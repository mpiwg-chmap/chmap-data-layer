"use strict";(self.webpackChunkchmapDataLayer=self.webpackChunkchmapDataLayer||[]).push([[821],{2821:function(n,a,e){e.r(a),e.d(a,{show:function(){return T},on:function(){return S}});var t=e(88066),r=e.n(t),i=e(95238),o=e.n(i),l=e(53592),c=e.n(l),s=e(51446),u=e.n(s),f=e(19996),d=e.n(f),v=e(92655);function h(n,a){var e=void 0!==u()&&d()(n)||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,a){var e;if(n){if("string"==typeof n)return b(n,a);var t=o()(e=Object.prototype.toString.call(n)).call(e,8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?c()(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(n,a):void 0}}(n))||a&&n&&"number"==typeof n.length){e&&(n=e);var t=0,r=function(){};return{s:r,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,l=!0,s=!1;return{s:function(){e=e.call(n)},n:function(){var n=e.next();return l=n.done,n},e:function(n){s=!0,i=n},f:function(){try{l||null==e.return||e.return()}finally{if(s)throw i}}}}function b(n,a){(null==a||a>n.length)&&(a=n.length);for(var e=0,t=new Array(a);e<a;e++)t[e]=n[e];return t}var m=v.BootstrapWrap.Offcanvas,p=new v.Commons.EventEmitterClass,y=null,g=null,w=null;function S(n,a,e,t){p.on(n,a,e,t)}function T(n){var a;y||((a=document.createElement("div")).innerHTML='<div \n     id="data-layer-images-panel"\n     class="offcanvas offcanvas-start"\n     style="width:40%;"\n     data-bs-scroll="true"\n     data-bs-backdrop="false"\n     tabindex="-1"\n     aria-labelledby="offcanvasScrollingLabel">\n    <div class="offcanvas-header pb-0">\n        <h5 class="offcanvas-title"></h5>\n        <i class="bi bi-chevron-left btn-outline-success px-1" data-bs-dismiss="offcanvas" aria-label="Close" ></i>\n    </div>\n    <div class="offcanvas-body" style="padding-top:0.5rem;">\n    </div>\n</div>',document.body.append(a),function(n){g=n.querySelector(".offcanvas-title"),w=n.querySelector(".offcanvas-body");var a=n.firstChild;y=new m(a),a.addEventListener("hidden.bs.offcanvas",(function(){p.emit("hidden",a)}))}(a)),function(n){var a,e=n.title,t=n.subTitle,i=n.rows,o=n.isSingleBook,l=[t,"<br>"],c="",s=h(i);try{for(s.s();!(a=s.n()).done;){var u,f,d,v,b,m,y,S,T,I,L,k=a.value;o||c===k.ID||(""!==c&&l.push("<br/>"),l.push(r()(v=r()(b=r()(m=r()(y=r()(S=r()(T=r()(I=r()(L="".concat(k.name," (")).call(L,k["TimeSpan:begin"]," ~ ")).call(I,k["TimeSpan:end"],") <br> ")).call(T,k.Dynasty," ")).call(S,k.Period,"  ")).call(y,k.Edition," ")).call(m,k.Volume," ")).call(b,k.Author," ")).call(v,k.Source,"<br/>")),c=k.ID),l.push(r()(u=r()(f=r()(d='<img title="ID:'.concat(k.ID," Page:")).call(d,k.Page," Tags:")).call(f,k.Tags,'" class="thumbnail-img" style="cursor:pointer;width:100px;height:150px;margin:0 5px 5px 0;" src="')).call(u,k.imageURL,'" />'))}}catch(n){s.e(n)}finally{s.f()}g.innerHTML=e,w.innerHTML=l.join(""),function(){var n=w.querySelectorAll(".thumbnail-img");if(n){var a,e=h(n);try{var t=function(){var n=a.value;n.onclick=function(a){p.emit("showBigImage",n.src)}};for(e.s();!(a=e.n()).done;)t()}catch(n){e.e(n)}finally{e.f()}}}()}(n),y.show(),p.emit("shown",y._element)}}}]);
//# sourceMappingURL=821.chmap-data-layer.js.map